#Расширинная ошибка
Цель использования данного типа исключения - собрать во время исполнения программы всю необходимую 
для рещения проблемы информацию и передать её в техническую поддержку или на сервер статистики.

Реализация - все методы оборачиваются для перехвата обычных и расширенных исключений.
Из обычного исключения создается расширенное, а расширенное прокидывается наверх. 
См варианты вызова исключений. 

##Модель данных
* code - код ошибки - расшифровка кода содержит нейтральный локализованный текст ошибки для клиента
* msg - постоянный текст ошибки 
* detail - переменная часть текста ошибки
* action - действие которое не выполнилось в результате данной ошибки
* stack - сквозной стек операций до ошибки 
** action - имя текущего действия где произошло исключения
** dump - параметры для отладки

##Код ошибки
по коду ошибки предполагается классифицировать проблемы в разрезах
* 3xxx - Ошибки в нашем коде
* 4xxx - Ошибки вызванные некорректными действиями пользователей
* 5xxx - Ошибки вызванные временной недоступностью функционала, 
повторный вызов с теми же параметрами может быть успешным
* 6xxx - Ошибки во внешних сервисах и библиотеках
* 8xxx - Запросы не реализованного, но потонциально интересного функционала


## Варианты вызова исключения
### Ручная инициализация
ручная установка параметров, можно установить любые данные в модели
### Из обычного исключения
выставится код 3000 - неизвестная ошибка, текст сообщения из обычного исключения поместится
в detail, в stack запишется текущий stack trace и имя текущего действия
### Из расширенного исключения - проброс выше
action обновится на текущий, так в стек добавится текущее действие со своим дампом

##Пример
* Создание документа
** Создание контрагента
*** Создание Банка - обвалилось передана ссылка на несуществующий банк

Путь исключения



* msg: Невалидные реквизиты 
* action: Создание документа
* detail: Документ ZZZ Контрагент YYY банк ХХХ передана ссылка на несуществующий банк
* stack:
  * 
    * action: Создание контрагента
    * msg: Невалидные реквизиты  
    * detail: передана ссылка на несуществующий банк. банк XXX. Контрагент YYYY
  * 
    * action: Создание банка
    * msg: Невалидные реквизиты  
    * detail: передана ссылка на несуществующий банк. банк XXX 
  * 
    * action: обновление записи БД
    * msg: IndexError: list index out of range  
    * detail: '  File line 13
'     
    * 